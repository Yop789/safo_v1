<ion-content>
  <ion-row>
    <ion-col
      size-md="2"
      *ngFor="let item of items; let i = index"
      [routerLink]="'/home/view-tienda/' + item._id"
    >
      <ion-card>
        <div [style.height.px]="280">
          <img
            alt="Silhouette of mountains"
            [src]="item.image"
            loading="lazy"
            (load)="onImageLoad(i)"
          />
        </div>

        <div *ngIf="!imageLoaded[i]">
          <ion-skeleton-text
            [animated]="true"
            style="height: 200px"
          ></ion-skeleton-text>
        </div>
        <ion-card-header>
          <p>{{ item.description }}</p>
          <ion-card-title>{{ item.name }}</ion-card-title>
          <ion-card-subtitle class="align-content-center d-flex">
            {{ item.category }}
            <ngb-rating
              [max]="5"
              [rate]="calificacionPromedio(item.qualification)"
              style="font-size: 35px"
              [readonly]="true"
            ></ngb-rating>
          </ion-card-subtitle>
        </ion-card-header>
      </ion-card>
    </ion-col>
  </ion-row>
  <div
    *ngIf="items.length === 0"
    class="align-content-center justify-content-center d-flex flex-column align-items-center"
  >
    <ion-icon
      style="font-size: 200px; color: #e1e1e1"
      name="file-tray-stacked-outline"
    ></ion-icon>
    <button class="btn" routerLink="/home/tiendas">Ver tiendas</button>
  </div>
</ion-content>
